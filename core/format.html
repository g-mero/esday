<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Core - Format</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'">
    <base href="/esday/" />
    <link rel="stylesheet" href="esday.css">
    <link rel="icon" type="image/png" href="assets/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="assets/favicon-16x16.png" sizes="16x16" />
</head>
<body>
    <header>
        <img class="header-symbol" src="assets/esday.png" alt="ESday project icon" />
        <h1 class="header-title">Core - Format</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="core/index.html">Core</a>
            <a href="plugins/index.html">Plugins</a>
            <a href="locales/index.html">Locales</a>
        </nav>
    </header>
    <div class="container">
        <h1>Formatting</h1>
<p>The <code>format()</code> method returns a string representing an <code>esday</code> object.</p>
<h2>Usage</h2>
<h3>Method signatures</h3>
<h4>Formatting using a given format template</h4>
<pre><code class="language-typescript">esday().format(formatTemplate: string): string
</code></pre>
<table>
<thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead>
<tbody><tr>
<td>formatTemplate</td>
<td>template used for formatting the EsDay object</td>
</tr>
</tbody></table>
<h4>Adding new formatting tokens</h4>
<pre><code class="language-typescript">esday.addTokenDefinitions(newTokens: TokenDefinitions)
</code></pre>
<p><strong>Format of TokenDefinitions</strong></p>
<pre><code class="language-typescript">type TokenDefinitions = Record&lt;token, [regexDefaultMode, regexStrictMode, setterFn]&gt;
</code></pre>
<table>
<thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody><tr>
<td>token</td>
<td>string</td>
<td>token to be parsed (e.g. 'Q')</td>
</tr>
<tr>
<td>regexDefaultMode</td>
<td>RegExp</td>
<td>regex used for parsing in default mode</td>
</tr>
<tr>
<td>regexStrictMode</td>
<td>RegExp</td>
<td>regex used for parsing in strict mode</td>
</tr>
<tr>
<td>setterFn</td>
<td>function</td>
<td>function to add parsed value to result in 'this'</td>
</tr>
</tbody></table>
<p>Signature of <code>setterFn</code></p>
<pre><code class="language-typescript">(this: ParsedElements, input: string) =&gt; void
</code></pre>
<p><strong>Parameters of setter</strong></p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody><tr>
<td>this</td>
<td>ParsedElements</td>
<td>object for results of parsing</td>
</tr>
<tr>
<td>input</td>
<td>string</td>
<td>parsed value</td>
</tr>
</tbody></table>
<p><strong>Format of ParsedElements</strong></p>
<pre><code class="language-typescript">interface ParsedElements {
  year?: number
  month?: number
  day?: number
  hours?: number
  minutes?: number
  seconds?: number
  milliseconds?: number
  zoneOffset?: number
  unix?: number
}
</code></pre>
<h2>Parsing tokens</h2>
<table>
<thead>
<tr>
<th><strong>Token</strong></th>
<th><strong>Example</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td>YY</td>
<td>1</td>
<td>Two-digit year</td>
</tr>
<tr>
<td>YYYY</td>
<td>2001</td>
<td>Four-digit year</td>
</tr>
<tr>
<td>M</td>
<td>1-12</td>
<td>Month, beginning at 1</td>
</tr>
<tr>
<td>MM</td>
<td>01-12</td>
<td>Month, 2-digits</td>
</tr>
<tr>
<td>D</td>
<td>1-31</td>
<td>Day of month</td>
</tr>
<tr>
<td>DD</td>
<td>01-31</td>
<td>Day of month, 2-digits</td>
</tr>
<tr>
<td>H</td>
<td>0-23</td>
<td>Hours</td>
</tr>
<tr>
<td>HH</td>
<td>00-23</td>
<td>Hours, 2-digits</td>
</tr>
<tr>
<td>m</td>
<td>0-59</td>
<td>Minutes</td>
</tr>
<tr>
<td>mm</td>
<td>00-59</td>
<td>Minutes, 2-digits</td>
</tr>
<tr>
<td>s</td>
<td>0-59</td>
<td>Seconds</td>
</tr>
<tr>
<td>ss</td>
<td>00-59</td>
<td>Seconds, 2-digits</td>
</tr>
<tr>
<td>SSS</td>
<td>000-999</td>
<td>Milliseconds, 3-digits</td>
</tr>
<tr>
<td>Z</td>
<td>+05:00:00</td>
<td>Offset from UTC</td>
</tr>
</tbody></table>
<p>To use one of the supported tokens as test between the date elements, these characters must be escaped (i.e.wrapped in square brackets).<br>An example for a formatting string with escaped test is <code>YYY-MM-DD [MM] HH [any other text] mm [m]b</code>.</p>
<h2>Examples</h2>
<h3>Formatting</h3>
<pre><code class="language-typescript">import { esday } from 'esday'

esday('08-2023-14 21:43:12.123').format('MM-YYYY-DD HH:mm:ss.SSS')
// Returns '2023-08-14T21:43:12.123'
</code></pre>
<h3>Adding new formatting tokens</h3>
<p>This functionality is above all for plugin developers</p>
<pre><code class="language-typescript">const additionalTokens: TokenDefinitions = {
  PP: [/\d\d?/, /\d{2}/, function (input) {
    // in this example we don't use the parsed value ('input')
    this.milliseconds = 987
  }],
}
esday.addTokenDefinitions(additionalTokens)

esday('2024 3').format('YYYY PP')
// Returns '2023-08-14T21:43:12.123'
</code></pre>

    </div>
</body>
</html>
